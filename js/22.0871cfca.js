"use strict";(self["webpackChunkmy_app"]=self["webpackChunkmy_app"]||[]).push([[22],{4650:function(e,t,r){r.r(t),r.d(t,{default:function(){return u}});var a=function(){var e=this,t=e._self._c;return t("div",{staticClass:"manage"},[t("div",{staticClass:"manage-header"},[t("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogVisible=!0,e.modelType=!0}}},[e._v("添加用户信息")]),t("el-form",{ref:"searchForm",attrs:{inline:!0,model:e.searchForm}},[t("el-form-item",{staticStyle:{"margin-bottom":"0px"}},[t("el-input",{attrs:{placeholder:"请输入搜索内容"},model:{value:e.searchForm.name,callback:function(t){e.$set(e.searchForm,"name",t)},expression:"searchForm.name"}})],1),t("el-form-item",{staticStyle:{"margin-bottom":"0px"}},[t("el-button",{attrs:{type:"primary"},on:{click:e.onSearch}},[e._v("搜索")])],1)],1)],1),t("el-dialog",{attrs:{title:"添加用户信息",visible:e.dialogVisible,"before-close":e.handleClose,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[t("el-form",{ref:"userForm",attrs:{model:e.userForm,rules:e.rules,inline:!0,"label-width":"80px"}},[t("el-form-item",{attrs:{label:"姓名",prop:"name"}},[t("el-input",{attrs:{placeholder:"请输入姓名"},model:{value:e.userForm.name,callback:function(t){e.$set(e.userForm,"name",t)},expression:"userForm.name"}})],1),t("el-form-item",{attrs:{label:"年龄",prop:"age"}},[t("el-input",{attrs:{placeholder:"请输入年龄"},model:{value:e.userForm.age,callback:function(t){e.$set(e.userForm,"age",t)},expression:"userForm.age"}})],1),t("el-form-item",{attrs:{label:"性别",prop:"sex"}},[t("el-select",{attrs:{placeholder:"请选择性别"},model:{value:e.userForm.sex,callback:function(t){e.$set(e.userForm,"sex",t)},expression:"userForm.sex"}},[t("el-option",{attrs:{label:"男",value:1}}),t("el-option",{attrs:{label:"女",value:0}})],1)],1),t("el-form-item",{attrs:{label:"出生日期",prop:"birth"}},[t("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-DD",placeholder:"选择日期"},model:{value:e.userForm.birth,callback:function(t){e.$set(e.userForm,"birth",t)},expression:"userForm.birth"}})],1),t("el-form-item",{staticStyle:{width:"100%"},attrs:{label:"地址",prop:"addr"}},[t("el-input",{staticStyle:{width:"100%"},attrs:{placeholder:"请输入地址"},model:{value:e.userForm.addr,callback:function(t){e.$set(e.userForm,"addr",t)},expression:"userForm.addr"}})],1)],1),t("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[t("el-button",{attrs:{type:"danger"},on:{click:function(t){return e.resetForm("userForm")}}},[e._v("重置")]),t("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确 定")]),t("el-button",{on:{click:function(t){e.dialogVisible=!1,e.resetForm("userForm")}}},[e._v("取 消")])],1)],1),t("el-table",{staticStyle:{height:"100%","margin-top":"20px",overflow:"auto"},attrs:{data:e.tableData,stripe:""}},[t("el-table-column",{attrs:{prop:"name",label:"姓名"}}),t("el-table-column",{attrs:{prop:"sex",label:"性别"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("span",[e._v(e._s(r.row.sex?"男":"女"))])]}}])}),t("el-table-column",{attrs:{prop:"age",label:"年龄"}}),t("el-table-column",{attrs:{prop:"birth",label:"出生日期"}}),t("el-table-column",{attrs:{prop:"addr",label:"地址"}}),t("el-table-column",{attrs:{label:"操作"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("el-button",{attrs:{type:"primary",size:"minin"},on:{click:function(t){e.handelEdit(r.row),e.modelType=!1}}},[e._v("编辑")]),t("el-button",{attrs:{type:"danger",size:"minin"},on:{click:function(t){return e.handelDelete(r.row)}}},[e._v("删除")])]}}])})],1),t("div",{staticClass:"manage-footer"},[t("div"),t("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:e.total},on:{"current-change":e.handlePage}})],1)],1)},s=[],l=r(135),o={name:"User",data(){return{dialogVisible:!1,searchForm:{name:""},userForm:{name:"",age:"",sex:"",birth:"",addr:""},rules:{name:[{required:!0,message:"请输入姓名",trigger:"blur"}],age:[{required:!0,message:"请输入年龄",trigger:"blur"}],sex:[{required:!0,message:"请选择性别",trigger:"change"}],birth:[{required:!0,message:"选择出生日期",trigger:"change"}],addr:[{required:!0,message:"请输入地址",trigger:"blur"}]},tableData:[],modelType:!0,total:0,pageData:{page:1,limit:10}}},methods:{onSubmit(){this.$refs.userForm.validate((e=>{e&&(this.modelType?(0,l.cn)(this.userForm).then((()=>{this.getUserList()})):(0,l.uz)(this.userForm).then((()=>{this.getUserList()})),this.resetForm("userForm"),this.dialogVisible=!1)}))},resetForm(e){this.$refs[e].resetFields()},handleClose(e){this.$confirm("确认关闭？").then((t=>{this.resetForm("userForm"),e()})).catch((e=>{}))},handelEdit(e){this.modelType=!1,this.dialogVisible=!0,this.userForm=JSON.parse(JSON.stringify(e))},handelDelete(e){this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{(0,l.ti)({id:e.id}).then((()=>{this.$message({type:"success",message:"删除成功!"}),this.getUserList()}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},getUserList(){(0,l.PR)({params:{...this.searchForm,...this.pageData}}).then((e=>{this.tableData=e.list,this.total=e.count||0}))},handlePage(e){this.pageData.page=e,this.getUserList()},onSearch(){this.getUserList()}},mounted(){this.getUserList()}},i=o,n=r(1001),m=(0,n.Z)(i,a,s,!1,null,"66fd8f9b",null),u=m.exports}}]);
//# sourceMappingURL=22.0871cfca.js.map